{# Reusable breadcrumb navigation component.

  Params (via include + context):
    - items (required): List of dicts with 'label' and optional 'url' keys
      Example: [{'label': 'Home', 'url': '/'}, {'label': 'Projects', 'url': '/projects/'}, {'label': 'Current'}]
    - current (optional): Label for current page (alternative to adding it to items)
#}

<nav aria-label="Breadcrumb">
    <ol class="breadcrumb">
        {% for item in items %}
        <li class="breadcrumb-item{% if forloop.last %} active{% endif %}"{% if forloop.last %} aria-current="page"{% endif %}>
            {% if item.url and not forloop.last %}
            <a href="{{ item.url }}">{{ item.label }}</a>
            {% else %}
            {{ item.label }}
            {% endif %}
        </li>
        {% if not forloop.last %}
        <li class="breadcrumb-separator" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </li>
        {% endif %}
        {% endfor %}
        {% if current %}
        {% if items %}
        <li class="breadcrumb-separator" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </li>
        {% endif %}
        <li class="breadcrumb-item active" aria-current="page">{{ current }}</li>
        {% endif %}
    </ol>
</nav>
